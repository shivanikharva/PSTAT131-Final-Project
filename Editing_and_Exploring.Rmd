Loading, exploring, morphing  --> tidying eventually where we make factors

**Loading the dataset:**  
```{r}
library(tidyverse)
pokemon <- read.csv("data/pokemon.csv")
head(pokemon)
```

```{r}
pokemon %>%
  dim()
```
801 rows - 801 pokemon
41 columns - we definitely will not be needing all of those variables

based on the question i want to answer, it would not be very significant to look at the attack scores of pokemon against other specific types of pokemon as we already have the overall attack score. also it would not be meaningful to do based on classification as there are N unique classifications (use code from below). base egg steps and base happiness appear to be about the same for most pokemon and do not really have much to do with the skill level of the pokemon. experience growth also appears to be quite similar across most pokemon so we are also not interested in that.

further exploring the capture rate, our outcome. notice that one is a string --> minior --> explain why choose 30 instead of 255

Outcome-  
capture_rate: capture rate  

https://bulbapedia.bulbagarden.net/wiki/Stat
Variables of interest-  
attack (how much damage they deal using a physical move)  
classification 
defense 
hp (hit points - how much damage they can receive before fainting)
sp_attack (how much damage the deal using special moves)   
sp_defense  
type1  
type2  
generation
is_legendary  

```{r}
library(tidyverse)
ggplot(pokemon, aes(x=attack, y=capture_rate)) + geom_point()
```

```{r}

library(dplyr)
filter(pokemon, capture_rate %in% c("30 (Meteorite)255 (Core)"))
pokemon[pokemon$name=="Minior", "capture_rate"] <- 30
# I chose 30 because the capture rate only rises to 255 if you break its shell
filter(pokemon, name %in% c("Minior"))
```

```{r}
ggplot(pokemon, aes(x=attack, y=capture_rate)) + geom_point()
pokemon[, "capture_rate"] <- as.numeric(pokemon$capture_rate)
```

```{r}
ggplot(pokemon, aes(x=attack, y=capture_rate)) + geom_point()
ggplot(pokemon, aes(x=hp, y=capture_rate)) + geom_point()
ggplot(pokemon, aes(x=generation, y=capture_rate, group=generation)) + geom_boxplot()
ggplot(pokemon, aes(x=defense, y=capture_rate)) + geom_point()
ggplot(pokemon, aes(x=sp_attack, y=capture_rate)) + geom_point()
ggplot(pokemon, aes(x=sp_defense, y=capture_rate)) + geom_point()
ggplot(pokemon, aes(x=classfication, y=capture_rate, group=classfication)) + geom_boxplot()
ggplot(pokemon, aes(x=type1, y=capture_rate, group=type2)) + geom_boxplot()
```

```{r}
pokemon %>%
  distinct(classfication)
```

Might not be a good idea to do classification because there are 588 unique classifications of a pokemon --> better to focus on type

```{r}
library(corrplot)
pokemon_numeric <- pokemon %>%
  select_if(is.numeric)
# taking out the aforementioned columns with too many missing values (was not planning on using them anyways)
pokemon_numeric <- pokemon_numeric[, !names(pokemon_numeric) %in% c("height_m", "weight_kg", "percentage_male")]

pokemon_cor <- cor(pokemon_numeric)
pokemon_corrplot <- corrplot(pokemon_cor)
```

We can see that how a pokemon performs against a certain other type of pokemon is not really correlated to capture rate much. However, this also shows how capture rate has a high negative correlation with base_total which is the Base Stat Total (BST = hp + attack + defense + sp_attack + sp_defense + speed). So, it might be worth exploring how all of those added together affects the capture rate.

```{r}
ggplot(pokemon, aes(capture_rate)) + geom_histogram()
```

No specific skewness is visible, but there is a peak in the data around 40-50 capture rate.  

```{r}

ability_split <-strsplit(as.character(pokemon$abilities),',',fixed=TRUE)
#ability_split
```

```{r}
ability_df <- tibble(line = 1:801, text = pokemon$abilities)
ability_df
```





